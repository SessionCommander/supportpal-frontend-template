{% extends parent_template %}

{% block breadcrumb %}
    <span class="page-header-breadcrumb-separator">&raquo;</span>
    <span>{{ Lang.get('general.home') }}</span>
{% endblock %}

{% block precontent %}
    {% if show_search %}
        <div class="search-hero" style="padding-top: 80px; padding-bottom: 3rem; background: linear-gradient(135deg, rgba(88, 28, 135, 0.3) 0%, rgba(111, 34, 50, 0.2) 50%, rgba(3, 7, 18, 1) 100%);">
            <div class="content-wrapper">
                <div style="text-align: center; max-width: 66.666667%; margin: 0 auto;">
                    <h1 style="font-size: 1.875rem; font-weight: 600; margin-bottom: 1.5rem; color: white;">
                        {{ Lang.get('core.how_can_we_help') }}
                    </h1>
                    <form name="search" action="{{ route('core.frontend.search') }}" method="get" style="margin: 0;">
                        <input type="search" name="query" placeholder="{{ Lang.get('general.search') }}" style="width: 100%; padding: 0.75rem 1rem; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; color: #f3f4f6; font-size: 1rem;" />
                    </form>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block content %}

    {% if not isModuleEnabled('Ticket') and not isModuleEnabled('Selfservice') %}
        <div style="text-align: center; padding: 3rem 0; color: #9ca3af;">
            {{ Lang.get('core.no_modules') }}
        </div>
    {% else %}

        <div class="dashboard-grid" style="display: grid; grid-template-columns: repeat(1, minmax(0, 1fr)); gap: 1.5rem;">
            {% if isModuleEnabled('Selfservice') %}
                <a href="{% if types is not empty and not types.isEmpty() %}{{ types.first().url }}{% else %}{{ route('selfservice.index') }}{% endif %}" class="dashboard-card" style="display: block; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; padding: 2rem; text-decoration: none; transition: all 0.2s;">
                    <div style="display: flex; flex-direction: column; align-items: center; text-align: center; gap: 1rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #a855f7;">
                            <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/>
                        </svg>
                        <div>
                            <h3 style="font-size: 1.25rem; font-weight: 600; color: white; margin-bottom: 0.5rem; font-family: var(--font-playfair);">
                                Documentation
                            </h3>
                            <p style="color: #9ca3af; margin: 0; font-size: 0.875rem;">
                                Browse our knowledge base for answers and guides
                            </p>
                        </div>
                    </div>
                </a>
            {% endif %}

            {% if isModuleEnabled('Ticket') %}
                <a href="{{ route('ticket.frontend.ticket.createStep1') }}" class="dashboard-card" style="display: block; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; padding: 2rem; text-decoration: none; transition: all 0.2s;">
                    <div style="display: flex; flex-direction: column; align-items: center; text-align: center; gap: 1rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #a855f7;">
                            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                        </svg>
                        <div>
                            <h3 style="font-size: 1.25rem; font-weight: 600; color: white; margin-bottom: 0.5rem; font-family: var(--font-playfair);">
                                Contact Us
                            </h3>
                            <p style="color: #9ca3af; margin: 0; font-size: 0.875rem;">
                                Get in touch with our support team
                            </p>
                        </div>
                    </div>
                </a>

                {% if not auth_check() and Config.get('channel.web.settings.unauthenticated_users') %}
                    <a href="{{ route('ticket.frontend.track') }}" class="dashboard-card" style="display: block; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; padding: 2rem; text-decoration: none; transition: all 0.2s;">
                        <div style="display: flex; flex-direction: column; align-items: center; text-align: center; gap: 1rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #a855f7;">
                                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            <div>
                                <h3 style="font-size: 1.25rem; font-weight: 600; color: white; margin-bottom: 0.5rem; font-family: var(--font-playfair);">
                                    Track Ticket
                                </h3>
                                <p style="color: #9ca3af; margin: 0; font-size: 0.875rem;">
                                    Check the status of your support ticket
                                </p>
                            </div>
                        </div>
                    </a>
                {% elseif auth_check() %}
                    <a href="{{ route('ticket.frontend.ticket.index') }}" class="dashboard-card" style="display: block; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; padding: 2rem; text-decoration: none; transition: all 0.2s;">
                        <div style="display: flex; flex-direction: column; align-items: center; text-align: center; gap: 1rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #a855f7;">
                                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            <div>
                                <h3 style="font-size: 1.25rem; font-weight: 600; color: white; margin-bottom: 0.5rem; font-family: var(--font-playfair);">
                                    My Tickets
                                </h3>
                                <p style="color: #9ca3af; margin: 0; font-size: 0.875rem;">
                                    View and manage your support tickets
                                </p>
                            </div>
                        </div>
                    </a>
                {% endif %}
            {% endif %}
        </div>
    {% endif %}

    {{ View.fireHook('frontend.dashboard') }}

{% endblock %}
