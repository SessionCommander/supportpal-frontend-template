{% extends parent_template %}

{% block title %}{{ Lang.get('user.reset_password') }}{% endblock %}

{% block breadcrumb %}
	<span class="page-header-breadcrumb-separator">&raquo;</span>
	<span>{{ Lang.get('user.reset_password') }}</span>
{% endblock %}

{% block page_title %}
    {{ Lang.get('user.reset_password') }}
{% endblock %}

{% block content %}

    {% if reset_success|default is not empty and reset_success %}

        <div style="max-width: 42rem; margin: 0 auto;">
            <div style="background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 0.5rem; padding: 2rem; text-align: center;">
                <div style="margin-bottom: 1rem;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #22c55e; margin: 0 auto;">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                </div>
                <p style="color: #9ca3af; font-size: 1rem; line-height: 1.6; margin: 0;">
                    {{ Lang.get('user.reset_request_desc') }}
                </p>
            </div>
        </div>

    {% else %}

        <div style="max-width: 42rem; margin: 0 auto;">
            <div style="background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.5rem; padding: 2rem;">

                {{ form_open({'route': 'user.reset', 'method': 'post', 'class': 'validate'}) }}

                    <div class="sp-form-row">
                        {{ form_label('email', Lang.get('general.email')) }}
                        <div class="sp-input-container">
                            {{ form_email('email', null, {'autofocus': 'autofocus', 'style': 'width: 100%; padding: 0.75rem; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 0.375rem; color: #f3f4f6;'}) }}
                        </div>
                    </div>

                    <div class="sp-form-row" style="margin-top: 1.5rem;">
                        <label></label>
                        <div class="sp-input-container">
                            {{ form_submit(Lang.get('general.reset'), {'style': 'width: 100%; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, #7e22ce 0%, #9333ea 50%, #a855f7 100%); color: white; border: none; border-radius: 0.5rem; font-weight: 500; font-size: 0.875rem; cursor: pointer;'}) }}
                        </div>
                    </div>

                {{ form_close() }}
            </div>
        </div>

	{% endif %}

{% endblock %}

{% block scripts_footer %}
    {% if jsValidator|default is not empty %}
        {{ jsValidator|raw }}
    {% endif %}
{% endblock %}
